# Vehicle Routing Problem (VRP) for Last-Mile Delivery Optimization

This project implements a heuristic optimization algorithm to solve the **Vehicle Routing Problem (VRP)** for last-mile delivery, using methods like **Nearest Neighbor** and **2-opt** local search to improve delivery routes. The goal is to minimize the total distance traveled by delivery vehicles while serving a set of customers from one or more depots.

## Table of Contents
- [Project Overview](#project-overview)
- [Dataset](#dataset)
- [Objective](#objective)
- [Methodology](#methodology)
  - [Nearest Neighbor Heuristic](#nearest-neighbor-heuristic)
  - [2-opt Optimization](#2-opt-optimization)
  - [Hybrid Approach](#hybrid-approach)
  - [Performance Evaluation](#performance-evaluation)
- [Visualizations](#visualizations)
- [How to Use](#how-to-use)
- [Key Insights](#key-insights)
- [License](#license)

## Project Overview

This project addresses the **Vehicle Routing Problem (VRP)** by developing a heuristic algorithm for optimizing delivery routes in last-mile delivery scenarios. The primary objective is to minimize the total travel distance, while ensuring that delivery vehicles meet the demands of multiple customers, subject to vehicle capacity constraints.

## Dataset

The dataset is extracted from an Excel file containing customer coordinates, depot coordinates, and customer demands. It includes:
- **x coordinate**: X-axis location of customers.
- **y coordinate**: Y-axis location of customers.
- **Depot x coordinate**: X-axis location of the depot.
- **Depot y coordinate**: Y-axis location of the depot.
- **Customer Number**: Unique identifier for customers.
- **Demand**: The number of units each customer requires (if applicable).

The data for this project is loaded from the Excel file `19MDVRP Problem Sets.xlsx`, and the first problem is used for optimization.

## Objective

The main goal of this project is to:
1. **Optimize Delivery Routes**: Minimize the total distance traveled by the vehicles while fulfilling all customer demands.
2. **Evaluate Heuristic Algorithms**: Implement and evaluate heuristic methods like the Nearest Neighbor heuristic, 2-opt optimization, and a hybrid approach.
3. **Improve Upon Baseline Solutions**: Compare the performance of the implemented algorithms to baseline solutions to measure improvement.

## Methodology

### Nearest Neighbor Heuristic

The **Nearest Neighbor** heuristic builds a route by iteratively visiting the nearest unvisited customer from the current location until all customers have been visited. While simple, this approach can provide a quick initial solution for route planning.

### 2-opt Optimization

The **2-opt** optimization is a local search algorithm that attempts to improve an existing route by iteratively reversing segments of the route and checking whether this leads to a reduction in the total travel distance. The 2-opt method helps eliminate unnecessary detours, resulting in a shorter route.

### Hybrid Approach

The **Hybrid Approach** combines the Nearest Neighbor heuristic for initial route generation with 2-opt for route optimization. This allows for a balance between computational efficiency and solution quality.

### Performance Evaluation

The algorithm is evaluated through:
1. **Total Route Cost**: The total distance traveled by the vehicle(s).
2. **Comparison Against Baseline**: The algorithm's performance is compared to a baseline solution to measure improvements in route optimization.
3. **Number of Vehicles Used**: In multi-vehicle scenarios, the number of vehicles used is tracked.

## Visualizations

The following visualizations are generated:
1. **Scatter Plots** of customer and depot locations to visually represent delivery points.
2. **Route Path**: The delivery route is plotted on a 2D plane showing the order in which customers are visited.
3. **Map Visualization**: Using `folium`, routes are plotted on a map to provide geographical context.

### Code Explanation and Key Insights

#### Code Explanation:

1. **Data Loading and Preprocessing**:
   - The code loads the dataset from an Excel file containing customer and depot coordinates.
   - It then cleans the data by removing duplicates and handling missing values.
   - The dataset is visualized with scatter plots, showing customer and depot locations on a 2D plane.

2. **Nearest Neighbor Heuristic**:
   - The nearest neighbor algorithm starts at a customer (or depot) and iteratively visits the nearest unvisited customer. The goal is to construct a complete route quickly, which will be further optimized.
   - A sample output from this step:
     ```
     Nearest Neighbor Tour: [0, 31, 10, 37, 4, ...]
     ```

3. **2-opt Optimization**:
   - The 2-opt algorithm is applied to improve the initial solution generated by the nearest neighbor heuristic. It works by reversing segments of the route to reduce the total travel distance.
   - The output shows the optimized route and the reduced total cost:
     ```
     Optimized Route: [0, 2, 1, 4, 3]
     Optimized Cost: 75.93
     ```

4. **Hybrid Approach**:
   - The hybrid approach combines nearest neighbor with 2-opt, using the former to quickly generate an initial route and the latter to refine the solution.

5. **Performance Evaluation**:
   - The algorithm is evaluated across multiple scenarios (e.g., different numbers of customers, vehicles, and capacities).
   - Key metrics such as total cost and the number of vehicles used are tracked to assess the algorithm's effectiveness.
   - Example output:
     ```
     Testing with 10 customers and 2 vehicles
     Total Cost of the Routes: 151.39
     Baseline Cost: 972.10
     ```

6. **Visualization**:
   - Routes are visualized both on a 2D scatter plot and interactively on a map using `folium`. This helps in understanding the geographical spread of customers and the efficiency of the optimized route.

### Source

https://www.kaggle.com/datasets/adamjoseph7945/vehicle-routing-problem-set

